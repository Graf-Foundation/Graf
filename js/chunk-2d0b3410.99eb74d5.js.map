{"version":3,"sources":["webpack:///./src/components/GrafEditor.vue?5b5f","webpack:///./src/components/GrafView.vue?6673","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-force/src/lcg.js","webpack:///./node_modules/d3-force/src/simulation.js","webpack:///./node_modules/d3-force/src/constant.js","webpack:///./node_modules/d3-force/src/jiggle.js","webpack:///./node_modules/d3-force/src/link.js","webpack:///./node_modules/d3-quadtree/src/add.js","webpack:///./node_modules/d3-quadtree/src/cover.js","webpack:///./node_modules/d3-quadtree/src/data.js","webpack:///./node_modules/d3-quadtree/src/extent.js","webpack:///./node_modules/d3-quadtree/src/quad.js","webpack:///./node_modules/d3-quadtree/src/find.js","webpack:///./node_modules/d3-quadtree/src/remove.js","webpack:///./node_modules/d3-quadtree/src/root.js","webpack:///./node_modules/d3-quadtree/src/size.js","webpack:///./node_modules/d3-quadtree/src/visit.js","webpack:///./node_modules/d3-quadtree/src/visitAfter.js","webpack:///./node_modules/d3-quadtree/src/x.js","webpack:///./node_modules/d3-quadtree/src/y.js","webpack:///./node_modules/d3-quadtree/src/quadtree.js","webpack:///./node_modules/d3-force/src/manyBody.js","webpack:///./node_modules/d3-force/src/collide.js","webpack:///src/components/GrafView.vue","webpack:///./src/components/GrafView.vue?bd57","webpack:///./src/components/GrafView.vue","webpack:///src/components/GrafEditor.vue","webpack:///./src/components/GrafEditor.vue?f4f1","webpack:///./src/components/GrafEditor.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","staticStyle","width","height","on","$event","drag","drop","_l","graph","link","key","id","source","x","y","target","linkClick","node","nodeClick","nodeMoving","noop","value","dispatch","t","i","n","arguments","length","_","test","Error","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","slice","hasOwnProperty","type","get","c","set","callback","concat","push","prototype","constructor","typename","T","copy","call","that","args","Array","apply","taskHead","taskTail","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","setTimeout","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","timerFlush","e","undefined","wake","nap","poke","t0","t2","t1","Infinity","sleep","clearTimeout","clearInterval","setInterval","TypeError","stop","a","m","s","d","initialRadius","initialAngle","Math","PI","sqrt","simulation","alpha","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","Map","stepper","step","event","random","lcg","tick","iterations","nodes","k","forEach","force","fx","vx","fy","vy","initializeNodes","index","isNaN","radius","angle","cos","sin","initializeForce","initialize","randomSource","delete","find","dx","dy","d2","closest","nodeById","nodeId","strengths","distances","count","bias","strength","defaultStrength","distance","constant","min","links","l","b","jiggle","initializeStrength","initializeDistance","_nodes","_random","_x","_y","cover","tree","parent","xm","ym","xp","yp","right","bottom","j","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","next","addAll","xz","yz","floor","z","visit","x2","y2","q","x3","y3","quads","pop","retainer","previous","removeAll","remove","size","child","defaultX","defaultY","quadtree","Quadtree","NaN","leaf_copy","treeProto","add","extent","root","visitAfter","distanceMin2","distanceMax2","theta2","accumulate","quad","weight","abs","w","distanceMin","distanceMax","theta","radii","xi","yi","ri","ri2","prepare","rj","r","grafModel","max","document","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","mounted","console","log","methods","component","components","GrafView"],"mappings":"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","file":"js/chunk-2d0b3410.99eb74d5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"graf-editor\"}},[_c('GrafView')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"svg-container\",staticStyle:{\"width\":\"100%\"}},[_c('svg',{attrs:{\"id\":\"svg\",\"preserveAspectRatio\":\"xMinYMin meet\",\"pointer-events\":\"all\",\"width\":_vm.width+'px',\"height\":_vm.height+'px',\"viewBox\":[-_vm.width/2, -_vm.height/2, _vm.width, _vm.height]},on:{\"mousemove\":function($event){return _vm.drag($event)},\"mouseup\":function($event){return _vm.drop()}}},[_vm._l((this.graph.links),function(link){return _c('line',{key:link.id,attrs:{\"x1\":link.source.x,\"y1\":link.source.y,\"x2\":link.target.x,\"y2\":link.target.y,\"stroke\":\"black\",\"stroke-width\":\"5\"},on:{\"click\":function($event){return _vm.linkClick(link)}}})}),_vm._l((this.graph.nodes),function(node){return _c('circle',{key:node.id,attrs:{\"cx\":node.x,\"cy\":node.y,\"r\":10,\"fill\":\"teal\",\"stroke\":\"black\",\"stroke-width\":\"4\"},on:{\"click\":function($event){return _vm.nodeClick(node)},\"mousedown\":function($event){_vm.nodeMoving = node}}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","<template>\n  <div class=\"svg-container\" style=\"width: 100%\">\n    <svg id=\"svg\" preserveAspectRatio=\"xMinYMin meet\" pointer-events=\"all\"\n         :width=\"width+'px'\"\n         :height=\"height+'px'\"\n         :viewBox=\"[-width/2, -height/2, width, height]\"\n         @mousemove=\"drag($event)\"\n         @mouseup=\"drop()\">\n\n      <line v-for=\"link in this.graph.links\"\n            :key=\"link.id\"\n            :x1=\"link.source.x\"\n            :y1=\"link.source.y\"\n            :x2=\"link.target.x\"\n            :y2=\"link.target.y\"\n            stroke=\"black\"\n            stroke-width=\"5\"\n            v-on:click=\"linkClick(link)\"/>\n\n      <circle v-for=\"node in this.graph.nodes\"\n              :key=\"node.id\"\n              :cx=\"node.x\"\n              :cy=\"node.y\"\n              :r=\"10\"\n              fill=\"teal\"\n              stroke=\"black\"\n              stroke-width=\"4\"\n              v-on:click=\"nodeClick(node)\"\n              @mousedown=\"nodeMoving = node\"/>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport * as force from \"d3-force\";\n\nexport default {\n  name: \"GrafView\",\n  data() {\n    return {\n      grafModel: null,\n      width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n      height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0) - 40,\n      simulation: null,\n      graph: {\n        links: [{id: 0, source: 0, target: 1}, {id: 1, source: 2, target: 0}],\n        nodes: [{id: \"A\", x: 0, y: 0},{id: \"B\", x: 100, y: -100},{id: \"C\",x: -50, y: 50}]\n      },\n      nodeMoving: null\n    };\n  },\n  mounted() {\n    //TODO NDESMARAIS: simulation-model interface\n    console.log(\"mounted\");\n    this.simulation = force.forceSimulation(this.graph.nodes);\n    this.simulation.on(\"tick\", console.log(\"ticked\"));\n    this.simulation.on(\"end\", console.log(\"ended\"));\n    this.simulation = this.simulation.force(\"link\", force.forceLink(this.graph.links).distance(100))\n        .force(\"charge\", force.forceManyBody().strength(-8))\n        .force(\"collide\", force.forceCollide().radius(10))\n        .alpha(.5)\n        .alphaDecay(0);\n  },\n  methods: {\n    nodeClick(node) {\n      let id = node.id\n      console.log(`Node ${id} Clicked`)\n    },\n    linkClick(link) {\n      let id = link.id\n      console.log(`Link ${id} Clicked`)\n    },\n    drag(e) {\n      if (this.nodeMoving != null) {\n        let x = e.clientX - this.width/2;\n        let y = e.clientY - this.height/2;\n        this.nodeMoving.fx = x\n        this.nodeMoving.fy = y\n      }\n    },\n    drop(){\n      if(this.nodeMoving != null) {\n        delete this.nodeMoving.fx\n        delete this.nodeMoving.fy\n        this.nodeMoving = null\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GrafView.vue?vue&type=template&id=5c8edd26&scoped=true&\"\nimport script from \"./GrafView.vue?vue&type=script&lang=js&\"\nexport * from \"./GrafView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c8edd26\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"graf-editor\">\n    <GrafView></GrafView>\n  </div>\n</template>\n\n<script>\nimport GrafView from '../components/GrafView.vue'\n//import About from 'About.vue'\n\nexport default {\n  name: \"GrafEditor\",\n  components: {\n    GrafView\n  },\n  mounted () {\n  },\n  data() {\n    return {\n\n    };\n  },\n  methods: {\n\n  }\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GrafEditor.vue?vue&type=template&id=5ace0296&\"\nimport script from \"./GrafEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./GrafEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}