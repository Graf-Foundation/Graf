(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3410"],{"281e":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"graf-editor"}},[e("GrafView")],1)},r=[],o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"svg-container",staticStyle:{width:"100%"}},[e("svg",{attrs:{id:"svg",preserveAspectRatio:"xMinYMin meet","pointer-events":"all",width:t.width+"px",height:t.height+"px",viewBox:[-t.width/2,-t.height/2,t.width,t.height]},on:{mousemove:function(n){return t.drag(n)},mouseup:function(n){return t.drop()}}},[t._l(this.graph.links,(function(n){return e("line",{key:n.id,attrs:{x1:n.source.x,y1:n.source.y,x2:n.target.x,y2:n.target.y,stroke:"black","stroke-width":"5"},on:{click:function(e){return t.linkClick(n)}}})})),t._l(this.graph.nodes,(function(n){return e("circle",{key:n.id,attrs:{cx:n.x,cy:n.y,r:10,fill:"teal",stroke:"black","stroke-width":"4"},on:{click:function(e){return t.nodeClick(n)},mousedown:function(e){t.nodeMoving=n}}})}))],2)])},a=[],u={value:()=>{}};function l(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new h(i)}function h(t){this._=t}function s(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function c(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function f(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=u,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}h.prototype=l.prototype={constructor:h,on:function(t,n){var e,i=this._,r=s(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++o<a)if(e=(t=r[o]).type)i[e]=f(i[e],t.name,n);else if(null==n)for(e in i)i[e]=f(i[e],t.name,null);return this}while(++o<a)if((e=(t=r[o]).type)&&(e=c(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new h(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,e=i.length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var d,v,y=l,x=0,g=0,w=0,_=1e3,p=0,m=0,k=0,N="object"===typeof performance&&performance.now?performance:Date,M="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function b(){return m||(M(A),m=N.now()+k)}function A(){m=0}function E(){this._call=this._time=this._next=null}function q(t,n,e){var i=new E;return i.restart(t,n,e),i}function C(){b(),++x;var t,n=d;while(n)(t=m-n._time)>=0&&n._call.call(void 0,t),n=n._next;--x}function j(){m=(p=N.now())+k,x=g=0;try{C()}finally{x=0,O(),m=0}}function z(){var t=N.now(),n=t-p;n>_&&(k-=n,p=t)}function O(){var t,n,e=d,i=1/0;while(e)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:d=n);v=t,T(i)}function T(t){if(!x){g&&(g=clearTimeout(g));var n=t-m;n>24?(t<1/0&&(g=setTimeout(j,t-N.now()-k)),w&&(w=clearInterval(w))):(w||(p=N.now(),w=setInterval(z,_)),x=1,M(j))}}E.prototype=q.prototype={constructor:E,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?b():+e)+(null==n?0:+n),this._next||v===this||(v?v._next=this:d=this,v=this),this._call=t,this._time=e,T()},stop:function(){this._call&&(this._call=null,this._time=1/0,T())}};const D=1664525,G=1013904223,P=4294967296;var I=function(){let t=1;return()=>(t=(D*t+G)%P)/P};function V(t){return t.x}function B(t){return t.y}var F=10,H=Math.PI*(3-Math.sqrt(5)),J=function(t){var n,e=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,u=new Map,l=q(c),h=y("tick","end"),s=I();function c(){f(),h.call("tick",n),e<i&&(l.stop(),h.call("end",n))}function f(i){var l,h,s=t.length;void 0===i&&(i=1);for(var c=0;c<i;++c)for(e+=(o-e)*r,u.forEach((function(t){t(e)})),l=0;l<s;++l)h=t[l],null==h.fx?h.x+=h.vx*=a:(h.x=h.fx,h.vx=0),null==h.fy?h.y+=h.vy*=a:(h.y=h.fy,h.vy=0);return n}function d(){for(var n,e=0,i=t.length;e<i;++e){if(n=t[e],n.index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var r=F*Math.sqrt(.5+e),o=e*H;n.x=r*Math.cos(o),n.y=r*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function v(n){return n.initialize&&n.initialize(t,s),n}return null==t&&(t=[]),d(),n={tick:f,restart:function(){return l.restart(c),n},stop:function(){return l.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),u.forEach(v),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(i=+t,n):i},alphaDecay:function(t){return arguments.length?(r=+t,n):+r},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(s=t,u.forEach(v),n):s},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,v(e)),n):u.get(t)},find:function(n,e,i){var r,o,a,u,l,h=0,s=t.length;for(null==i?i=1/0:i*=i,h=0;h<s;++h)u=t[h],r=n-u.x,o=e-u.y,a=r*r+o*o,a<i&&(l=u,i=a);return l},on:function(t,e){return arguments.length>1?(h.on(t,e),n):h.on(t)}}},S=function(t){return function(){return t}},W=function(t){return 1e-6*(t()-.5)};function Y(t){return t.index}function $(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}var L=function(t){var n,e,i,r,o,a,u=Y,l=c,h=S(30),s=1;function c(t){return 1/Math.min(r[t.source.index],r[t.target.index])}function f(i){for(var r=0,u=t.length;r<s;++r)for(var l,h,c,f,d,v,y,x=0;x<u;++x)l=t[x],h=l.source,c=l.target,f=c.x+c.vx-h.x-h.vx||W(a),d=c.y+c.vy-h.y-h.vy||W(a),v=Math.sqrt(f*f+d*d),v=(v-e[x])/v*i*n[x],f*=v,d*=v,c.vx-=f*(y=o[x]),c.vy-=d*y,h.vx+=f*(y=1-y),h.vy+=d*y}function d(){if(i){var a,l,h=i.length,s=t.length,c=new Map(i.map((t,n)=>[u(t,n,i),t]));for(a=0,r=new Array(h);a<s;++a)l=t[a],l.index=a,"object"!==typeof l.source&&(l.source=$(c,l.source)),"object"!==typeof l.target&&(l.target=$(c,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(s);a<s;++a)l=t[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);n=new Array(s),v(),e=new Array(s),y()}}function v(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+l(t[e],e,t)}function y(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+h(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t,n){i=t,a=n,d()},f.links=function(n){return arguments.length?(t=n,d(),f):t},f.id=function(t){return arguments.length?(u=t,f):u},f.iterations=function(t){return arguments.length?(s=+t,f):s},f.strength=function(t){return arguments.length?(l="function"===typeof t?t:S(+t),v(),f):l},f.distance=function(t){return arguments.length?(h="function"===typeof t?t:S(+t),y(),f):h},f},R=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return X(this.cover(n,e),n,e,t)};function X(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var r,o,a,u,l,h,s,c,f,d=t._root,v={data:i},y=t._x0,x=t._y0,g=t._x1,w=t._y1;if(!d)return t._root=v,t;while(d.length)if((h=n>=(o=(y+g)/2))?y=o:g=o,(s=e>=(a=(x+w)/2))?x=a:w=a,r=d,!(d=d[c=s<<1|h]))return r[c]=v,t;if(u=+t._x.call(null,d.data),l=+t._y.call(null,d.data),n===u&&e===l)return v.next=d,r?r[c]=v:t._root=v,t;do{r=r?r[c]=new Array(4):t._root=new Array(4),(h=n>=(o=(y+g)/2))?y=o:g=o,(s=e>=(a=(x+w)/2))?x=a:w=a}while((c=s<<1|h)===(f=(l>=a)<<1|u>=o));return r[f]=d,r[c]=v,t}function K(t){var n,e,i,r,o=t.length,a=new Array(o),u=new Array(o),l=1/0,h=1/0,s=-1/0,c=-1/0;for(e=0;e<o;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(r=+this._y.call(null,n))||(a[e]=i,u[e]=r,i<l&&(l=i),i>s&&(s=i),r<h&&(h=r),r>c&&(c=r));if(l>s||h>c)return this;for(this.cover(l,h).cover(s,c),e=0;e<o;++e)X(this,a[e],u[e],t[e]);return this}var Q=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,o=(i=Math.floor(n))+1;else{var a,u,l=r-e||1,h=this._root;while(e>t||t>=r||i>n||n>=o)switch(u=(n<i)<<1|t<e,a=new Array(4),a[u]=h,h=a,l*=2,u){case 0:r=e+l,o=i+l;break;case 1:e=r-l,o=i+l;break;case 2:r=e+l,i=o-l;break;case 3:e=r-l,i=o-l;break}this._root&&this._root.length&&(this._root=h)}return this._x0=e,this._y0=i,this._x1=r,this._y1=o,this},U=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Z=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tt=function(t,n,e,i,r){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=r},nt=function(t,n,e){var i,r,o,a,u,l,h,s=this._x0,c=this._y0,f=this._x1,d=this._y1,v=[],y=this._root;y&&v.push(new tt(y,s,c,f,d)),null==e?e=1/0:(s=t-e,c=n-e,f=t+e,d=n+e,e*=e);while(l=v.pop())if(!(!(y=l.node)||(r=l.x0)>f||(o=l.y0)>d||(a=l.x1)<s||(u=l.y1)<c))if(y.length){var x=(r+a)/2,g=(o+u)/2;v.push(new tt(y[3],x,g,a,u),new tt(y[2],r,g,x,u),new tt(y[1],x,o,a,g),new tt(y[0],r,o,x,g)),(h=(n>=g)<<1|t>=x)&&(l=v[v.length-1],v[v.length-1]=v[v.length-1-h],v[v.length-1-h]=l)}else{var w=t-+this._x.call(null,y.data),_=n-+this._y.call(null,y.data),p=w*w+_*_;if(p<e){var m=Math.sqrt(e=p);s=t-m,c=n-m,f=t+m,d=n+m,i=y.data}}return i},et=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,i,r,o,a,u,l,h,s,c,f,d=this._root,v=this._x0,y=this._y0,x=this._x1,g=this._y1;if(!d)return this;if(d.length)while(1){if((h=o>=(u=(v+x)/2))?v=u:x=u,(s=a>=(l=(y+g)/2))?y=l:g=l,n=d,!(d=d[c=s<<1|h]))return this;if(!d.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(e=n,f=c)}while(d.data!==t)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):n?(r?n[c]=r:delete n[c],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[f]=d:this._root=d),this):(this._root=r,this)};function it(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}var rt=function(){return this._root},ot=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},at=function(t){var n,e,i,r,o,a,u=[],l=this._root;l&&u.push(new tt(l,this._x0,this._y0,this._x1,this._y1));while(n=u.pop())if(!t(l=n.node,i=n.x0,r=n.y0,o=n.x1,a=n.y1)&&l.length){var h=(i+o)/2,s=(r+a)/2;(e=l[3])&&u.push(new tt(e,h,s,o,a)),(e=l[2])&&u.push(new tt(e,i,s,h,a)),(e=l[1])&&u.push(new tt(e,h,r,o,s)),(e=l[0])&&u.push(new tt(e,i,r,h,s))}return this},ut=function(t){var n,e=[],i=[];this._root&&e.push(new tt(this._root,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){var r=n.node;if(r.length){var o,a=n.x0,u=n.y0,l=n.x1,h=n.y1,s=(a+l)/2,c=(u+h)/2;(o=r[0])&&e.push(new tt(o,a,u,s,c)),(o=r[1])&&e.push(new tt(o,s,u,l,c)),(o=r[2])&&e.push(new tt(o,a,c,s,h)),(o=r[3])&&e.push(new tt(o,s,c,l,h))}i.push(n)}while(n=i.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this};function lt(t){return t[0]}var ht=function(t){return arguments.length?(this._x=t,this):this._x};function st(t){return t[1]}var ct=function(t){return arguments.length?(this._y=t,this):this._y};function ft(t,n,e){var i=new dt(null==n?lt:n,null==e?st:e,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function dt(t,n,e,i,r,o){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function vt(t){var n={data:t.data},e=n;while(t=t.next)e=e.next={data:t.data};return n}var yt=ft.prototype=dt.prototype;yt.copy=function(){var t,n,e=new dt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=vt(i),e;t=[{source:i,target:e._root=new Array(4)}];while(i=t.pop())for(var r=0;r<4;++r)(n=i.source[r])&&(n.length?t.push({source:n,target:i.target[r]=new Array(4)}):i.target[r]=vt(n));return e},yt.add=R,yt.addAll=K,yt.cover=Q,yt.data=U,yt.extent=Z,yt.find=nt,yt.remove=et,yt.removeAll=it,yt.root=rt,yt.size=ot,yt.visit=at,yt.visitAfter=ut,yt.x=ht,yt.y=ct;var xt=function(){var t,n,e,i,r,o=S(-30),a=1,u=1/0,l=.81;function h(e){var r,o=t.length,a=ft(t,V,B).visitAfter(c);for(i=e,r=0;r<o;++r)n=t[r],a.visit(f)}function s(){if(t){var n,e,i=t.length;for(r=new Array(i),n=0;n<i;++n)e=t[n],r[e.index]=+o(e,n,t)}}function c(t){var n,e,i,o,a,u=0,l=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,l+=e,i+=e*n.x,o+=e*n.y);t.x=i/l,t.y=o/l}else{n=t,n.x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function f(t,o,h,s){if(!t.value)return!0;var c=t.x-n.x,f=t.y-n.y,d=s-o,v=c*c+f*f;if(d*d/l<v)return v<u&&(0===c&&(c=W(e),v+=c*c),0===f&&(f=W(e),v+=f*f),v<a&&(v=Math.sqrt(a*v)),n.vx+=c*t.value*i/v,n.vy+=f*t.value*i/v),!0;if(!(t.length||v>=u)){(t.data!==n||t.next)&&(0===c&&(c=W(e),v+=c*c),0===f&&(f=W(e),v+=f*f),v<a&&(v=Math.sqrt(a*v)));do{t.data!==n&&(d=r[t.data.index]*i/v,n.vx+=c*d,n.vy+=f*d)}while(t=t.next)}}return h.initialize=function(n,i){t=n,e=i,s()},h.strength=function(t){return arguments.length?(o="function"===typeof t?t:S(+t),s(),h):o},h.distanceMin=function(t){return arguments.length?(a=t*t,h):Math.sqrt(a)},h.distanceMax=function(t){return arguments.length?(u=t*t,h):Math.sqrt(u)},h.theta=function(t){return arguments.length?(l=t*t,h):Math.sqrt(l)},h};function gt(t){return t.x+t.vx}function wt(t){return t.y+t.vy}var _t=function(t){var n,e,i,r=1,o=1;function a(){for(var t,a,l,h,s,c,f,d=n.length,v=0;v<o;++v)for(a=ft(n,gt,wt).visitAfter(u),t=0;t<d;++t)l=n[t],c=e[l.index],f=c*c,h=l.x+l.vx,s=l.y+l.vy,a.visit(y);function y(t,n,e,o,a){var u=t.data,d=t.r,v=c+d;if(!u)return n>h+v||o<h-v||e>s+v||a<s-v;if(u.index>l.index){var y=h-u.x-u.vx,x=s-u.y-u.vy,g=y*y+x*x;g<v*v&&(0===y&&(y=W(i),g+=y*y),0===x&&(x=W(i),g+=x*x),g=(v-(g=Math.sqrt(g)))/g*r,l.vx+=(y*=g)*(v=(d*=d)/(f+d)),l.vy+=(x*=g)*v,u.vx-=y*(v=1-v),u.vy-=x*v)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function l(){if(n){var i,r,o=n.length;for(e=new Array(o),i=0;i<o;++i)r=n[i],e[r.index]=+t(r,i,n)}}return"function"!==typeof t&&(t=S(null==t?1:+t)),a.initialize=function(t,e){n=t,i=e,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(n){return arguments.length?(t="function"===typeof n?n:S(+n),l(),a):t},a},pt={name:"GrafView",data:function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-40,simulation:null,graph:{links:[{id:0,source:0,target:1},{id:1,source:2,target:0}],nodes:[{id:"A",x:0,y:0},{id:"B",x:0,y:0},{id:"C",x:0,y:0}]},nodeMoving:null}},mounted:function(){console.log("mounted"),this.simulation=J(this.graph.nodes),this.simulation.on("tick",console.log("ticked")),this.simulation.on("end",console.log("ended")),this.simulation=this.simulation.force("link",L(this.graph.links).distance(100)).force("charge",xt().strength(-8)).force("collide",_t().radius(10)).alpha(.01).alphaDecay(0)},methods:{nodeClick:function(t){var n=t.id;console.log("Node ".concat(n," Clicked"))},linkClick:function(t){var n=t.id;console.log("Link ".concat(n," Clicked"))},drag:function(t){if(null!=this.nodeMoving){var n=t.clientX-this.width/2,e=t.clientY-this.height/2;this.nodeMoving.fx=n,this.nodeMoving.fy=e}},drop:function(){null!=this.nodeMoving&&(delete this.nodeMoving.fx,delete this.nodeMoving.fy,this.nodeMoving=null)}}},mt=pt,kt=e("2877"),Nt=Object(kt["a"])(mt,o,a,!1,null,"bbba0960",null),Mt=Nt.exports,bt={name:"GrafEditor",components:{GrafView:Mt},mounted:function(){},data:function(){return{}},methods:{}},At=bt,Et=Object(kt["a"])(At,i,r,!1,null,null,null);n["default"]=Et.exports}}]);
//# sourceMappingURL=chunk-2d0b3410.141dc6e2.js.map